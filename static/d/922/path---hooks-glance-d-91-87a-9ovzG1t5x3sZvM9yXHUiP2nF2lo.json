{"data":{"site":{"siteMetadata":{"title":"æ‘¸é±¼æ¨‚","author":"Jason"}},"markdownRemark":{"id":"1dfc2529-8e3f-518e-bcc2-5903e1023012","html":"<blockquote>\n<p>Hooksæ˜¯React 16.8ä¸­æ–°å¢çš„å†…å®¹ï¼Œå®ƒå¯ä»¥è®©ä½ åœ¨classä¹‹å¤–ä½¿ç”¨stateå’Œå…¶ä»–Reactç‰¹æ€§ã€‚ä¸‹é¢æ˜¯æˆ‘æ ¹æ®Reactå®˜æ–¹æ–‡æ¡£å’ŒDanå¤§ä½¬åšå®¢çš„ä¸€äº›æ€»ç»“ï¼Œç®—æ˜¯ä¸€ä¸ªç®€å•çš„å…¥é—¨ã€‚</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Example</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// å£°æ˜ä¸€ä¸ªå«åšcountçš„æ–°stateå˜é‡</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n  \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    \t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">You clicked </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> tiems</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      \tClick Me\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä¸Šé¢çš„<code class=\"language-text\">useState</code>æ–¹æ³•æ˜¯æˆ‘ä»¬å°†è¦å­¦ä¹ çš„ç¬¬ä¸€ä¸ªâ€Hookâ€ã€‚ä¹‹åä¼šä»‹ç»ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å…³äºHooksçš„ç®€ä»‹</p>\n<h2 id=\"ä»‹ç»hooks\"><a href=\"#%E4%BB%8B%E7%BB%8Dhooks\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ä»‹ç»Hooks</h2>\n<h3 id=\"æ²¡æœ‰çªç ´æ€§æ”¹åŠ¨çš„åœ°æ–¹\"><a href=\"#%E6%B2%A1%E6%9C%89%E7%AA%81%E7%A0%B4%E6%80%A7%E6%94%B9%E5%8A%A8%E7%9A%84%E5%9C%B0%E6%96%B9\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>æ²¡æœ‰çªç ´æ€§æ”¹åŠ¨çš„åœ°æ–¹</h3>\n<ul>\n<li><strong>å®Œå…¨å¯é€‰</strong>ã€‚ä½ å¯ä»¥åœ¨å‡ ä¸ªç»„ä»¶ä¸­å°è¯•Hooksï¼Œè€Œä¸éœ€è¦é‡å†™ä»»ä½•ä»£ç ã€‚è‹¥æœä½ ä¸æƒ³ä½¿ç”¨çš„è¯ï¼Œä½ å¹¶ä¸æ˜¯å¿…é¡»è¦ç«‹é©¬ä½¿ç”¨å­¦ä¹ å’Œä½¿ç”¨Hooksï¼Œ</li>\n<li><strong>100%å‘åå…¼å®¹</strong>Hooksä¸åŒ…å«ä»»ä½•çªç ´æ€§çš„æ”¹åŠ¨</li>\n<li><strong>ç°åœ¨å¯ä½¿ç”¨</strong>ã€‚ç°åœ¨Hookså¯ä»¥åœ¨16.8.0ç‰ˆæœ¬ä¸­ä½¿ç”¨</li>\n</ul>\n<p><strong>ç°åœ¨æ²¡æœ‰ä»»ä½•è®¡åˆ’ä»Reactä¸­ç§»é™¤Classã€‚</strong></p>\n<p><strong>Hooksä¸ä¼šå–ä»£ä½ å¯¹Reactæ¦‚å¿µçš„ç†è§£ã€‚</strong>æ°æ°ç›¸åï¼ŒHooksä¸ºä½ å·²ç»äº†è§£çš„Reactæ¦‚å¿µæä¾›äº†æ›´å¤šç›´æ¥çš„APIï¼Œä¾‹å¦‚propsï¼Œstateï¼Œcontextï¼Œrefså’Œç”Ÿå‘½å‘¨æœŸã€‚Hooksä¹Ÿæä¾›äº†ä¸€ç§å…¨æ–°çš„å¼ºåŠ›æ–¹å¼æ¥æ•´åˆä»–ä»¬ã€‚</p>\n<h3 id=\"åŠ¨æœº\"><a href=\"#%E5%8A%A8%E6%9C%BA\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>åŠ¨æœº</h3>\n<p>Hooksè§£å†³äº†åœ¨Reactä¸­çœ‹ä¼¼æ— å…³ä½†æ˜¯åœ¨ç¼–å†™å’Œç»´æŠ¤æµ·é‡ç»„ä»¶å‡ºç°çš„é—®é¢˜ã€‚</p>\n<h4 id=\"è·¨ç»„ä»¶å¤ç”¨çŠ¶æ€é€»è¾‘å¾ˆå›°éš¾\"><a href=\"#%E8%B7%A8%E7%BB%84%E4%BB%B6%E5%A4%8D%E7%94%A8%E7%8A%B6%E6%80%81%E9%80%BB%E8%BE%91%E5%BE%88%E5%9B%B0%E9%9A%BE\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>è·¨ç»„ä»¶å¤ç”¨çŠ¶æ€é€»è¾‘å¾ˆå›°éš¾</h4>\n<p>Reactæ²¡æœ‰æä¾›ä¸€ç§å°†å¯å¤ç”¨çš„è¡Œä¸ºâ€œattachâ€åˆ°ç»„ä»¶ä¸Šçš„æ–¹å¼ï¼ˆæ¯”å¦‚reduxçš„connectæ–¹æ³•ï¼‰ã€‚Reactéœ€è¦ä¸€äº›æ›´å¥½çš„åº•å±‚å…ƒç´ æ¥å¤ç”¨çŠ¶æ€é€»è¾‘ã€‚</p>\n<p>é€šè¿‡ä½¿ç”¨Hooksï¼Œæ‚¨å¯ä»¥ä»ç»„ä»¶ä¸­æå–çŠ¶æ€é€»è¾‘ï¼Œä»¥ä¾¿å¯ä»¥ç‹¬ç«‹æµ‹è¯•å¹¶é‡å¤ä½¿ç”¨ã€‚<strong>Hookså…è®¸æ‚¨åœ¨ä¸æ›´æ”¹ç»„ä»¶å±‚æ¬¡ç»“æ„çš„æƒ…å†µä¸‹å¤ç”¨çŠ¶æ€é€»è¾‘ã€‚</strong></p>\n<h4 id=\"å¤æ‚ç»„ä»¶å˜çš„éš¾ä»¥ç†è§£\"><a href=\"#%E5%A4%8D%E6%9D%82%E7%BB%84%E4%BB%B6%E5%8F%98%E7%9A%84%E9%9A%BE%E4%BB%A5%E7%90%86%E8%A7%A3\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å¤æ‚ç»„ä»¶å˜çš„éš¾ä»¥ç†è§£</h4>\n<p><strong>Hookså…è®¸ä½ å°†ä¸€ä¸ªç»„ä»¶æ ¹æ®ç›¸å…³çš„éƒ¨åˆ†ï¼ˆæ¯”å¦‚è®¾ç½®è®¢é˜…æˆ–è·å–æ•°æ®ï¼‰æ‹†åˆ†æˆæ›´å°çš„æ–¹æ³•</strong></p>\n<h4 id=\"äººä»¬å’Œæœºå™¨å¯¹classæ„Ÿåˆ°å›°æƒ‘\"><a href=\"#%E4%BA%BA%E4%BB%AC%E5%92%8C%E6%9C%BA%E5%99%A8%E5%AF%B9class%E6%84%9F%E5%88%B0%E5%9B%B0%E6%83%91\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>äººä»¬å’Œæœºå™¨å¯¹Classæ„Ÿåˆ°å›°æƒ‘</h4>\n<p><strong>Hookså¯ä»¥ä½¿ä½ åœ¨Classä¹‹å¤–ä½¿ç”¨æ›´å¤šçš„Reactç‰¹æ€§</strong>ä»æ¦‚å¿µä¸Šè®²ï¼ŒReactç»„ä»¶ä¹Ÿæ˜¯æ›´æ¥è¿‘äºå‡½æ•°çš„ã€‚HooksåŸºäºå‡½æ•°ï¼Œä½†æ˜¯å¹¶ä¸ä¼šä¿®æ”¹Reactçš„åŸºæœ¬æ¦‚å¿µã€‚</p>\n<h2 id=\"hooksæƒŠé¸¿ä¸€ç¥\"><a href=\"#hooks%E6%83%8A%E9%B8%BF%E4%B8%80%E7%9E%A5\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HooksæƒŠé¸¿ä¸€ç¥</h2>\n<h3 id=\"state-hook\"><a href=\"#state-hook\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>State Hook</h3>\n<h4 id=\"å£°æ˜å¤šä¸ªçŠ¶æ€å˜é‡\"><a href=\"#%E5%A3%B0%E6%98%8E%E5%A4%9A%E4%B8%AA%E7%8A%B6%E6%80%81%E5%8F%98%E9%87%8F\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å£°æ˜å¤šä¸ªçŠ¶æ€å˜é‡</h4>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">ExampleWithManyStates</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>age<span class=\"token punctuation\">,</span> setAge<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>fruit<span class=\"token punctuation\">,</span> setFruit<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'apple'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>todos<span class=\"token punctuation\">,</span> setTodos<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> text<span class=\"token punctuation\">:</span> <span class=\"token string\">'watch a movie'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>é€šè¿‡è°ƒç”¨<code class=\"language-text\">useState</code>æˆ‘ä»¬å£°æ˜äº†ä¸€äº›çŠ¶æ€å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Array_destructuring\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">æ•°ç»„è§£æ„</a>è¯­æ³•èµ‹äºˆè¿™äº›çŠ¶æ€å˜é‡ä¸åŒçš„åå­—ã€‚è¿™äº›åå­—ä¸æ˜¯<code class=\"language-text\">useState</code>Â APIçš„ä¸€éƒ¨åˆ†ã€‚ ç›¸åï¼Œå½“ä½ å¤šæ¬¡è°ƒç”¨<code class=\"language-text\">useState</code>æ—¶ï¼ŒReactå‡å®šä½ åœ¨æ¯ä¸€æ¬¡æ¸²æŸ“ä¸­ä»¥ç›¸åŒçš„é¡ºåºè°ƒç”¨å®ƒä»¬ã€‚</p>\n<h4 id=\"ä»€ä¹ˆæ˜¯hook\"><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AFhook\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ä»€ä¹ˆæ˜¯Hook</h4>\n<p>Hooksæ˜¯ä¸€äº›è®©ä½ ä¸React stateå’Œå‡½æ•°å¼ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç‰¹æ€§æŒ‚é’©çš„æ–¹æ³•ã€‚Hooksä¸åœ¨Classä¸­è¿è¡Œï¼Œå®ƒè®©ä½ åœ¨ä¸ä½¿ç”¨Classçš„æƒ…å†µä¸‹ä½¿ç”¨Reactã€‚</p>\n<h3 id=\"effect-hook\"><a href=\"#effect-hook\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Effect Hook</h3>\n<p>ä½ å¯èƒ½å·²ç»åœ¨Reactç»„ä»¶ä¸­æ‰§è¡Œæ•°æ®è·å–ï¼Œè®¢é˜…æˆ–è€…æ‰‹åŠ¨æ›´æ”¹<code class=\"language-text\">DOM</code>ã€‚æˆ‘ä»¬æŠŠè¿™äº›æ“ä½œç§°ä¹‹ä¸º<code class=\"language-text\">Side effects</code>(æˆ–è€…ç®€ç§°ä¸º<code class=\"language-text\">effects</code>)</p>\n<p>è¿™äº›Effect Hookï¼Œ<code class=\"language-text\">useEffect</code>ï¼Œä¸ºå‡½æ•°å¼ç»„ä»¶æ–°å¢äº†æ‰§è¡Œå‰¯ä½œç”¨çš„èƒ½åŠ›ã€‚å®ƒä¸React Classä¸­çš„<code class=\"language-text\">componentDidMount</code>ï¼Œ<code class=\"language-text\">componentDidUpdate</code>ä»¥åŠ<code class=\"language-text\">componentWillUnmount</code>æ‹¥æœ‰ç›¸åŒçš„ç”¨é€”ï¼Œä½†æ˜¯ç»Ÿä¸€ä¸ºå•ä¸ªçš„APIã€‚</p>\n<p>ä¸¾ä¸ªğŸŒ°ï¼Œä¸‹é¢è¿™ä¸ªç»„ä»¶åœ¨Reactæ›´æ–°DOMåè®¾ç½®documentçš„æ ‡é¢˜</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Ex</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times`</span></span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n  \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    \t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">You clicked </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> times</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      \tClick Me\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å½“ä½ è°ƒç”¨<code class=\"language-text\">useEffect</code>ï¼Œå°±æ˜¯å‘Šè¯‰Reactåœ¨åˆ·æ–°DOMä¹‹åè¿è¡Œä½ çš„å‰¯ä½œç”¨å‡½æ•°ã€‚Effectsåœ¨ç»„ä»¶å†…éƒ¨å£°æ˜ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ä½¿ç”¨ç»„ä»¶çš„propså’Œstateã€‚é»˜è®¤æƒ…å†µï¼ŒReactåœ¨æ¯ä¸€ä¸ªrenderï¼ˆåŒ…æ‹¬ç¬¬ä¸€renderï¼‰åè¿è¡Œå‰¯ä½œç”¨ã€‚</p>\n<p>Effectsè¿˜å¯ä»¥é€‰æ‹©é€šè¿‡è¿”å›ä¸€ä¸ªå‡½æ•°æ¥æŒ‡å®šå¦‚ä½•â€œå›æ”¶â€å®ƒä»¬ã€‚ ä¾‹å¦‚ï¼Œæ­¤ç»„ä»¶ä½¿ç”¨Effectsæ¥è®¢é˜…æœ‹å‹çš„åœ¨çº¿çŠ¶æ€ï¼Œå¹¶é€šè¿‡å–æ¶ˆè®¢é˜…æ¥æ¸…ç†ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">FriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isOnline<span class=\"token punctuation\">,</span> setIsOnline<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setIsOnline</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">.</span>isOnline<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFreindStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFreindStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  \n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isOnline <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Loading...'</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> isOnline <span class=\"token operator\">?</span> <span class=\"token string\">'Online'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Offline'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå½“ç»„ä»¶å¸è½½æ—¶ï¼Œä»¥åŠåœ¨ç”±äºåç»­æ¸²æŸ“è€Œé‡æ–°è¿è¡ŒEffectsä¹‹å‰ï¼ŒReactå°†å–æ¶ˆè®¢é˜…æˆ‘ä»¬çš„<code class=\"language-text\">ChatAPI</code>ã€‚</p>\n<p>åƒä½¿ç”¨<code class=\"language-text\">useState</code>ä¸€æ ·,ä½ å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶ä¸­ä½¿ç”¨å¤šä¸ªå‰¯ä½œç”¨ï¼š </p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">FriendStatusWithCounter</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isOnline<span class=\"token punctuation\">,</span> setIsOnline<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setIsOnline</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">.</span>isOnline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span></code></pre></div>\n<p>Hooksè®©ä½ ä½ å¯ä»¥åœ¨ç»„ä»¶ä¸­æŒ‰ç…§ä»£ç å—çš„ç›¸å…³æ€§ç»„ç»‡å‰¯ä½œç”¨ï¼Œè€Œä¸æ˜¯åŸºäºç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¼ºåˆ¶è¿›è¡Œåˆ‡åˆ†ã€‚</p>\n<h3 id=\"hooksè§„åˆ™\"><a href=\"#hooks%E8%A7%84%E5%88%99\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hooksè§„åˆ™</h3>\n<p>Hooksæ˜¯JavaScriptå‡½æ•°ï¼Œä½†æ˜¯å®ƒå¼ºåŠ äº†ä¸¤ä¸ªé¢å¤–çš„è§„åˆ™ï¼š</p>\n<ul>\n<li>åªæœ‰åœ¨<strong>é¡¶å±‚</strong>è°ƒç”¨Hooksï¼Œä¸è¦åœ¨å¾ªç¯ï¼Œæ§åˆ¶æµå’ŒåµŒå¥—çš„å‡½æ•°ä¸­è°ƒç”¨Hooksã€‚</li>\n<li>åªæœ‰åœ¨<strong>Reactå‡½æ•°ç»„ä»¶</strong>ä¸­è°ƒç”¨Hooksï¼Œä¸è¦åœ¨å¸¸è§„çš„JavaScriptå‡½æ•°ä¸­è°ƒç”¨Hooksã€‚</li>\n</ul>\n<h3 id=\"æ„å»ºä½ è‡ªå·±çš„hooks\"><a href=\"#%E6%9E%84%E5%BB%BA%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84hooks\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>æ„å»ºä½ è‡ªå·±çš„Hooks</h3>\n<p>æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨è·¨ç»„ä»¶é—´å¤ç”¨ä¸€äº›çŠ¶æ€é€»è¾‘ã€‚å¯¹äºè¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§å¸¸è§çš„è§£å†³æ–¹æ¡ˆï¼šé«˜é˜¶ç»„ä»¶å’Œæ¸²æŸ“å±æ€§ã€‚è‡ªå®šä¹‰Hookså¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜è€Œä¸ç”¨åœ¨ä½ çš„ç»„ä»¶æ ‘ä¸­æ·»åŠ æ›´å¤šçš„ç»„ä»¶ã€‚</p>\n<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å±•ç¤ºäº†ä¸€ä¸ª<code class=\"language-text\">FriendStatus</code> ç»„ä»¶ï¼Œå®ƒå¯ä»¥è°ƒç”¨<code class=\"language-text\">useState</code>å’Œ<code class=\"language-text\">useEffect</code>é’©å­æ¥è®¢é˜…ä¸€ä¸ªæœ‹å‹çš„åœ¨çº¿çŠ¶æ€ã€‚å‡è®¾æˆ‘ä»¬æƒ³è¦åœ¨å…¶ä»–çš„ç»„ä»¶ä¸­å¤ç”¨è¿™ä¸ªè®¢é˜…é€»è¾‘ã€‚</p>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦æŠŠè¿™ä¸ªé€»è¾‘æŠ½å–åˆ°åä¸º<code class=\"language-text\">useFriendStatus</code>çš„è‡ªå®šä¹‰Hookä¸­ï¼š </p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">useFriendStatus</span><span class=\"token punctuation\">(</span>friendID<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isOnline<span class=\"token punctuation\">,</span> setIsOnline<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setIsOnline</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">.</span>isOnline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>friendID<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>friendID<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> isOnline<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å®ƒä½¿ç”¨äº†<code class=\"language-text\">friendID</code>ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¿”å›æœ‹å‹æ˜¯å¦åœ¨çº¿ã€‚</p>\n<p>æˆ‘ä»¬ç°åœ¨å¯ä»¥åŒæ—¶åœ¨ä¸¤ä¸ªç»„ä»¶ä¸­ä½¿ç”¨å®ƒï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">FriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> isOnline <span class=\"token operator\">=</span> <span class=\"token function\">useFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isOnline <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Loading...'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> isOnline <span class=\"token operator\">?</span> <span class=\"token string\">'Online'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Offline'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">FriendListItem</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> isOnline <span class=\"token operator\">=</span> <span class=\"token function\">useFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> color<span class=\"token punctuation\">:</span> isOnline <span class=\"token operator\">?</span> <span class=\"token string\">'green'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'black'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä¸¤ä¸ªç»„ä»¶ä¸­çš„çŠ¶æ€æ˜¯å®Œå…¨ç‹¬ç«‹çš„ã€‚Hooksåªå¤ç”¨çŠ¶æ€é€»è¾‘è€Œä¸æ˜¯çŠ¶æ€æœ¬èº«ã€‚äº‹å®ä¸Šï¼Œæ¯ä¸€æ¬¡è°ƒç”¨Hookéƒ½ä¼šå¾—åˆ°ä¸€ä¸ªå®Œå…¨å­¤ç«‹çš„çŠ¶æ€ï¼Œæ‰€ä»¥ä½ ç”šè‡³å¯ä»¥åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­ä½¿ç”¨ä¸¤æ¬¡ç›¸åŒçš„è‡ªå®šä¹‰Hookã€‚</p>\n<p>è‡ªå®šä¹‰Hooksæ›´å¤šçš„æ˜¯ä¸€ä¸ªçº¦å®šè€Œä¸æ˜¯ç‰¹æ€§ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°çš„åå­—ä»¥ â€<code class=\"language-text\">use</code>â€ å¼€å¤´å¹¶ä¸”è°ƒç”¨äº†å…¶ä»–çš„Hooksï¼Œæˆ‘ä»¬å°±ç§°å®ƒä¸ºè‡ªå®šä¹‰Hookã€‚<code class=\"language-text\">useSomething</code>çš„å‘½åçº¦å®šæ–¹ä¾¿è¯­æ³•æ£€æŸ¥æ’ä»¶æ‰¾åˆ°ä»£ç ä¸­Hooksçš„é”™è¯¯ä½¿ç”¨ã€‚</p>\n<h3 id=\"å…¶ä»–-hooks\"><a href=\"#%E5%85%B6%E4%BB%96-hooks\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å…¶ä»– Hooks</h3>\n<p>è¿˜æœ‰ä¸€äº›ä¸å¤ªå¸¸ç”¨çš„å†…ç½®é’©å­ï¼Œä¹Ÿè®¸ä½ ä¼šè§‰å¾—éå¸¸æœ‰ç”¨ã€‚ä½¿ç”¨<a href=\"https://react.docschina.org/docs/hooks-reference.html#usecontext\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">useContext</code></a>å¯ä»¥è®¢é˜…React contextè€Œä¸ç”¨å¼•å…¥åµŒå¥—ï¼š </p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Example</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> locale <span class=\"token operator\">=</span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>LocaleContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> theme <span class=\"token operator\">=</span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>ThemeContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://react.docschina.org/docs/hooks-reference.html#usereducer\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">useReducer</code></a>åˆ™å…è®¸ä½ ä½¿ç”¨ä¸€ä¸ªreduceræ¥ç®¡ç†ä¸€ä¸ªå¤æ‚ç»„ä»¶çš„å±€éƒ¨çŠ¶æ€ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Todos</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>todos<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>todosReducer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ... </span></code></pre></div>\n<h2 id=\"æ€»ç»“\"><a href=\"#%E6%80%BB%E7%BB%93\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>æ€»ç»“</h2>\n<p><strong>React Hooks è¦è§£å†³çš„é—®é¢˜æ˜¯çŠ¶æ€å…±äº«</strong>ï¼Œæ˜¯ç»§ <a href=\"http://link.zhihu.com/?target=https%3A//reactjs.org/docs/render-props.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">render-props</a> å’Œ <a href=\"http://link.zhihu.com/?target=https%3A//reactjs.org/docs/higher-order-components.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">higher-order components</a> ä¹‹åçš„ç¬¬ä¸‰ç§çŠ¶æ€å…±äº«æ–¹æ¡ˆï¼Œä¸ä¼šäº§ç”Ÿ JSX åµŒå¥—åœ°ç‹±é—®é¢˜ã€‚å…¶ä¸­å„ç§å¥¥å¦™å¸¦æˆ‘ç»§ç»­å­¦ä¹ åï¼Œæ…¢æ…¢å“å‘³ã€‚</p>\n<p><img src=\"/%E7%9C%9F%E9%A6%99-081026945f52e338a20ce86a91ca6735.gif\" alt=\"çœŸé¦™\"></p>","timeToRead":5,"frontmatter":{"title":"HooksæƒŠé¸¿ä¸€ç¥","date":"January 03, 2019","spoiler":"React Hooksä»å…¥é—¨åˆ°æ‡µé€¼"},"fields":{"slug":"/hooks-glance/","langKey":"en"}}},"pageContext":{"slug":"/hooks-glance/","previous":{"fields":{"slug":"/typescript/","langKey":"en","directoryName":"typescript"},"frontmatter":{"title":"TypeScript Guide"}},"next":{"fields":{"slug":"/hooks-api/Hooks-Api/","langKey":"en","directoryName":"hooks-api"},"frontmatter":{"title":"Hooks API"}}}}